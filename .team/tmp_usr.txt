REQUIREMENTS (enriched with market research):
{
  "project_name": "openidx-admin-dashboard-gateway",
  "summary": "Build a unified API Gateway (port 8500) with JWT validation, rate limiting, and request routing, plus a complete React/TypeScript admin dashboard frontend with authentication, navigation, and full CRUD interfaces for users, OAuth apps, audit logs, policies, and settings.",
  "user_stories": [
    {
      "id": "US-001",
      "as_a": "system administrator",
      "i_want": "a unified API gateway that routes requests to all backend services",
      "so_that": "I can manage a single entry point for all API calls with consistent authentication and rate limiting",
      "priority": "critical",
      "acceptance_criteria": [
        "Gateway listens on port 8500",
        "Routes /api/v1/identity/* to service on :8501",
        "Routes /api/v1/oauth/* to service on :8502",
        "Routes /api/v1/governance/* to service on :8503",
        "Routes /api/v1/audit/* to service on :8504",
        "Routes /api/v1/admin/* to service on :8505",
        "Routes /api/v1/risk/* to service on :8506",
        "/health endpoint aggregates health from all downstream services",
        "/api/docs serves combined OpenAPI specification"
      ]
    },
    {
      "id": "US-002",
      "as_a": "security administrator",
      "i_want": "JWT validation at the gateway level with rate limiting per user",
      "so_that": "I can prevent abuse and ensure all requests are authenticated",
      "priority": "critical",
      "acceptance_criteria": [
        "JWT validation middleware validates bearer tokens on all protected routes",
        "Rate limiting: 100 requests per minute per user",
        "Sliding window algorithm using Redis",
        "Rate limit headers returned in response (X-RateLimit-Remaining, X-RateLimit-Reset)",
        "429 Too Many Requests response when limit exceeded"
      ]
    },
    {
      "id": "US-003",
      "as_a": "administrator",
      "i_want": "correlation IDs and structured logging on all requests",
      "so_that": "I can trace requests across services and debug issues effectively",
      "priority": "high",
      "acceptance_criteria": [
        "Every request gets a unique correlation ID (X-Correlation-ID header)",
        "Correlation ID propagated to all downstream services",
        "Structured access logs include: timestamp, method, path, status, duration, correlation_id, user_id",
        "Logs output in JSON format for parsing"
      ]
    },
    {
      "id": "US-004",
      "as_a": "admin user",
      "i_want": "a login page with email, password, and MFA support",
      "so_that": "I can securely authenticate into the admin console",
      "priority": "critical",
      "acceptance_criteria": [
        "Login form with email and password fields",
        "MFA code input field (6 digits)",
        "Remember device checkbox",
        "Form validation for email format and password requirements",
        "Error messages displayed inline for failed login",
        "On success, stores JWT access and refresh tokens",
        "Redirects to dashboard on successful authentication"
      ]
    },
    {
      "id": "US-005",
      "as_a": "admin user",
      "i_want": "a responsive sidebar navigation",
      "so_that": "I can easily navigate between different admin sections",
      "priority": "high",
      "acceptance_criteria": [
        "Sidebar contains: Dashboard, Users, Groups, OAuth Apps, Audit Logs, Policies, Settings",
        "Active route is highlighted",
        "Sidebar is collapsible on mobile (hamburger menu)",
        "Icons for each navigation item",
        "Logout button at bottom of sidebar"
      ]
    },
    {
      "id": "US-006",
      "as_a": "admin user",
      "i_want": "a dashboard with key metrics and activity charts",
      "so_that": "I can quickly understand the system status and recent activity",
      "priority": "high",
      "acceptance_criteria": [
        "Total users card with count",
        "Active sessions count card",
        "Failed logins today card",
        "Risk alerts count card",
        "Login activity line chart (last 7 days) using recharts",
        "All cards show loading skeletons while fetching",
        "Data refreshes every 30 seconds"
      ]
    },
    {
      "id": "US-007",
      "as_a": "admin user",
      "i_want": "a users page with sortable, searchable table",
      "so_that": "I can find and manage user accounts efficiently",
      "priority": "critical",
      "acceptance_criteria": [
        "Table displays: name, email, status, last login, actions",
        "Search by name or email",
        "Sort by any column",
        "Pagination (20 items per page)",
        "Create user button opens modal with form",
        "Edit user button opens slide-out drawer",
        "Suspend/activate toggle on user row",
        "Reset password action sends email to user",
        "Empty state with illustration when no users exist"
      ]
    },
    {
      "id": "US-008",
      "as_a": "

MARKET ANALYSIS:
{
  "competitor_summary": [
    {
      "name": "Microsoft Entra ID",
      "strengths": [
        "Deep Microsoft 365 integration",
        "Identity Governance included",
        "Risk-based conditional access",
        "Identity Protection",
        "Global infrastructure"
      ],
      "weaknesses": [
        "High pricing ($46-93/user/month)",
        "Vendor lock-in",
        "Complex licensing tiers",
        "Limited multi-cloud support"
      ],
      "pricing_model": "$46-93/user/month for P1/P2 tiers"
    },
    {
      "name": "Okta",
      "strengths": [
        "7000+ app integrations",
        "Cloud-native architecture",
        "Strong API-first approach",
        "Multi-cloud support",
        "Mature ecosystem"
      ],
      "weaknesses": [
        "Enterprise pricing $35k-50k+ annually",
        "Add-on costs for advanced features",
        "Recent security incidents"
      ],
      "pricing_model": "$6-25/user/month standard, enterprise $35k-50k+ annually"
    },
    {
      "name": "Duo Security",
      "strengths": [
        "MFA specialization",
        "Device visibility",
        "Simple pricing",
        "Free tier available",
        "Strong security reputation"
      ],
      "weaknesses": [
        "Limited IAM capabilities",
        "Focused primarily on MFA",
        "Less governance features"
      ],
      "pricing_model": "Freemium, ~$3-9/user/month"
    },
    {
      "name": "Tencent Cloud iOA",
      "strengths": [
        "#1 in Chinese market",
        "18 DLP channels",
        "EPP+EDR dual-engine",
        "Strong domestic compliance",
        "\u00a559-419/year pricing"
      ],
      "weaknesses": [
        "China-focused",
        "Limited global presence",
        "Language barriers",
        "Geopolitical concerns"
      ],
      "pricing_model": "\u00a559-419/year ($8-58/year)"
    },
    {
      "name": "Palo Alto Networks Prisma",
      "strengths": [
        "SASE integration",
        "Advanced threat prevention

PROJECT CONTEXT (from CLAUDE.md):
# CLAUDE.md - OpenIDX Development Guide

## Project Overview

OpenIDX is an open-source Zero Trust Access Platform (ZTAP) that provides enterprise-grade Identity and Access Management. It competes with commercial solutions like Microsoft Entra ID, Okta, and Duo while offering 70-80% cost savings.

## Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                     API Gateway (APISIX)                        │
└─────────────────────────────────────────────────────────────────┘
                                │
    ┌───────────────────────────┼───────────────────────┐
    │                           │                       │
┌───▼───┐  ┌───────▼───────┐  ┌───▼───┐  ┌───────▼─────┐
│Identity│  │  Governance  │  │Provis-│  │    Audit   │
│Service │  │   Service    │  │ioning │  │   Service  │
└────────┘  └──────────────┘  └───────┘  └────────────┘
    │               │              │             │
    └───────────────┼──────────────┴─────────────┘
                    │
         ┌──────────▼──────────┐
         │  Policy Engine (OPA)│
         └─────────────────────┘
                    │
    ┌───────────────┼───────────────┐
    │               │               │
┌───▼───┐     ┌─────▼─────┐   ┌─────▼─────┐
│Postgres│    │   Redis   │   │Elasticsearch│
└────────┘    └───────────┘   └────────────┘
```

## Tech Stack

### Backend (Go 1.22+)
- **Framework**: Gin (HTTP router)
- **Database**: PostgreSQL with pgx driver
- **Cache**: Redis with go-redis
- **Logging**: Zap
- **Config**: Viper
- **JWT**: golang-jwt/v5

### Frontend (React 18+)
- **Framework**: React with TypeScript
- **Build**: Vite
- **Styling**: Tailwind CSS
- **State**: Zustand + React Query
- **UI**: Radix UI primitives
- **Auth**: OpenIDX OAuth (PKCE)

### Infrastructure
- **OAuth/OIDC**: Native OpenIDX OAuth Service
- **API Gateway**: Apache APISIX
- **Policy Engine**: Open Policy Agent (OPA)
- **Container**: Docker + Kub

EXISTING FILES:
internal/access/app_publish.go
internal/access/browzer_config.go
internal/access/browzer_targets.go
internal/access/context_evaluator.go
internal/access/continuous_verify.go
internal/access/device_health.go
internal/access/feature_handlers.go
internal/access/feature_manager.go
internal/access/guacamole.go
internal/access/health_handlers.go
internal/access/multi_idp.go
internal/access/platform_certs.go
internal/access/policy_dsl.go
internal/access/posture.go
internal/access/service.go
internal/access/temp_access.go
internal/access/unified_audit.go
internal/access/ziti_auth_handlers.go
internal/access/ziti_browzer.go
internal/access/ziti_browzer_handlers.go
internal/access/ziti_config_handlers.go
internal/access/ziti_discovery.go
internal/access/ziti_fabric.go
internal/access/ziti_fabric_handlers.go
internal/access/ziti.go
internal/access/ziti_handlers.go
internal/access/ziti_hardening.go
internal/access/ziti_session_handlers.go
internal/access/ziti_sync_handlers.go
internal/access/ziti_terminator_handlers.go
internal/access/ziti_user_sync.go
internal/admin/admin_audit.go
internal/admin/ai_agents.go
internal/admin/ai_recommendations.go
internal/admin/analytics_enhanced.go
internal/admin/attestation.go
internal/admin/audit_archival.go
internal/admin/bulk_import_export.go
internal/admin/bulk_operations.go
internal/admin/config.go
internal/admin/dashboard_enhanced.go
internal/admin/dashboard.go
internal/admin/deprovisioning.go
internal/admin/developer.go
internal/admin/email_templates.go
internal/admin/error_catalog.go
internal/admin/errors_helper.go
internal/admin/federation.go
internal/admin/handler.go
internal/admin/ispm.go

Design the complete solution. Include market-driven features where priority is critical/high. Be specific about file paths, function names, schemas, implementation order.
